{
  "metadata": {
    "version": "1.0.0",
    "last_updated": "2025-12-04",
    "description": "DOM selectors for 13 major AI chat interfaces",
    "note": "These selectors may change as websites update. Always verify before use."
  },
  "models": {
    "claude": {
      "name": "Claude (Anthropic)",
      "url": "https://claude.ai",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label='Stop generating'], button[data-testid='stop-button']",
          "alternatives": [
            "button:has-text('Stop generating')",
            "button.stop-button"
          ],
          "detection": "button:has(svg[data-icon='stop'])"
        },
        "loading_indicator": {
          "primary": "[data-testid='chat-loading']",
          "alternatives": [
            "[data-is-streaming='true']",
            ".loading-indicator",
            "[aria-busy='true']",
            ".animate-pulse"
          ]
        },
        "input_field": {
          "primary": "div[contenteditable='true'][role='textbox']",
          "alternatives": [
            "textarea[placeholder*='Reply']",
            "[data-testid='chat-input']",
            ".ProseMirror"
          ],
          "disabled_detection": "[contenteditable='false'], div[aria-disabled='true']"
        },
        "response_area": {
          "primary": "[data-testid='conversation']",
          "alternatives": [
            ".message-list",
            "[role='log']",
            ".conversation-container"
          ]
        },
        "submit_button": {
          "primary": "button[aria-label*='Send']",
          "alternatives": [
            "button[type='submit']",
            "[data-testid='send-button']"
          ]
        }
      },
      "completion": {
        "minWaitMs": 25000,
        "adaptiveMultiplier": 1.5,
        "checks": [
          "stopButton",
          "inputEnabled"
        ],
        "thinking": {
          "enabled": true,
          "patterns": [
            "Thinking...",
            "Reasoning...",
            "생각 중..."
          ]
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": true
      },
      "plugin": "claude"
    },
    "chatgpt": {
      "name": "ChatGPT (OpenAI)",
      "url": "https://chatgpt.com",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label='Stop generating']",
          "alternatives": [
            "button:has-text('Stop generating')",
            "[data-testid='stop-button']",
            "button.btn-neutral:has(svg)"
          ],
          "detection": "button[aria-label*='Stop']"
        },
        "loading_indicator": {
          "primary": ".streaming-animation",
          "alternatives": [
            "[data-testid='stop-button']",
            "[aria-live='polite']",
            "[class*='streaming-animation']",
            ".result-streaming"
          ]
        },
        "input_field": {
          "primary": "#prompt-textarea",
          "alternatives": [
            "textarea[placeholder*='Message ChatGPT']",
            "[data-id='root']",
            "textarea.m-0"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": "[data-testid='conversation-turn-list']",
          "alternatives": [
            ".flex.flex-col.items-center",
            "main.relative",
            "[role='presentation']"
          ]
        },
        "submit_button": {
          "primary": "button[data-testid='send-button']",
          "alternatives": [
            "button[data-testid='composer-send-button']",
            "button[aria-label='Send prompt']",
            "button.absolute.p-1"
          ]
        }
      },
      "completion": {
        "minWaitMs": 15000,
        "adaptiveMultiplier": 1.2,
        "checks": [
          "stopButton",
          "inputEnabled"
        ],
        "thinking": {
          "enabled": false,
          "patterns": []
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": false
      },
      "plugin": "chatgpt"
    },
    "gemini": {
      "name": "Gemini (Google)",
      "url": "https://gemini.google.com",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label*='Stop']",
          "alternatives": [
            "button.stop-button",
            "[data-test-id='stop-generating']",
            "button:has-text('Stop generating')"
          ],
          "detection": "button[mattooltip*='Stop']"
        },
        "loading_indicator": {
          "primary": ".loading-dots",
          "alternatives": [
            "[aria-label='Generating']",
            ".response-loading",
            "mat-progress-spinner",
            "[aria-busy='true']",
            ".bard-avatar.thinking"
          ]
        },
        "input_field": {
          "primary": "rich-textarea[aria-label*='Enter a prompt']",
          "alternatives": [
            ".ql-editor",
            "div[contenteditable='true']",
            "[data-test-id='chat-input']"
          ],
          "disabled_detection": "[aria-disabled='true']"
        },
        "response_area": {
          "primary": ".conversation-container",
          "alternatives": [
            "[role='main']",
            ".response-list",
            "model-response"
          ]
        },
        "submit_button": {
          "primary": "button[aria-label*='Send']",
          "alternatives": [
            "button.send-button",
            "[mattooltip='Send message']"
          ]
        }
      },
      "completion": {
        "minWaitMs": 18000,
        "adaptiveMultiplier": 1.4,
        "checks": [
          "stopButton",
          "inputEnabled"
        ],
        "thinking": {
          "enabled": true,
          "patterns": [
            "Thinking...",
            "Working on it...",
            "생각 중..."
          ]
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": true
      },
      "plugin": "gemini"
    },
    "grok": {
      "name": "Grok (X.AI)",
      "url": "https://x.ai/grok",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label='Stop generating'], button[data-testid='stop-generating']",
          "alternatives": [
            "button:has-text('Stop generating')",
            "button[aria-label='Stop']",
            "button[aria-label='중지']"
          ],
          "detection": "button svg[data-icon='stop']"
        },
        "loading_indicator": {
          "primary": "[data-testid='loading']",
          "alternatives": [
            ".generating-indicator",
            "[aria-busy='true']",
            ".response-content-markdown.streaming",
            ".animate-gaussian"
          ]
        },
        "input_field": {
          "primary": "div.tiptap.ProseMirror[contenteditable='true']",
          "alternatives": [
            "[data-testid='chat-input']",
            "div[contenteditable='true']",
            "textarea[placeholder*='Ask Grok']"
          ],
          "type": "contenteditable",
          "disabled_detection": "div.ProseMirror[contenteditable='false']"
        },
        "response_area": {
          "primary": "[data-testid='conversation']",
          "alternatives": [
            ".message-bubble",
            ".response-content-markdown",
            "[id^='response-']",
            "[role='log']"
          ]
        },
        "submit_button": {
          "primary": "button[aria-label='제출'], button[aria-label='Submit']",
          "alternatives": [
            "button[type='submit']",
            "button[data-testid='send']",
            "button[aria-label='Send message']"
          ]
        }
      },
      "completion": {
        "minWaitMs": 10000,
        "adaptiveMultiplier": 1.2,
        "checks": [
          "stopButton",
          "inputEnabled",
          "loadingIndicator"
        ],
        "thinking": {
          "enabled": true,
          "patterns": [
            "Grok is thinking",
            "Thinking",
            "생각 중"
          ]
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": true
      }
    },
    "perplexity": {
      "name": "Perplexity AI",
      "url": "https://perplexity.ai",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label='Stop generating']",
          "alternatives": [
            "[data-testid='stop-button']",
            "button.stop-generating"
          ],
          "detection": "button:has-text('Stop')"
        },
        "loading_indicator": {
          "primary": "[data-testid='perplexity-loading']",
          "alternatives": [
            ".loading-animation",
            "[aria-live='polite']"
          ]
        },
        "input_field": {
          "primary": "textarea[placeholder*='Ask anything']",
          "alternatives": [
            "[data-testid='search-input']",
            "textarea.w-full"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": "[data-testid='answer-container']",
          "alternatives": [
            ".prose",
            "main article"
          ]
        },
        "submit_button": {
          "primary": "button[aria-label='Submit']",
          "alternatives": [
            "button[type='submit']",
            "[data-testid='submit-button']"
          ]
        }
      }
    },
    "deepseek": {
      "name": "DeepSeek Chat",
      "url": "https://chat.deepseek.com",
      "selectors": {
        "stop_button": {
          "primary": "div[role='button'][aria-label*='Stop'], div[role='button']:has(svg) > div:contains('Stop')",
          "alternatives": [
            "button.stop-button",
            "[data-testid='stop-generating']",
            "div[class*='ds-stop']"
          ],
          "detection": "div[role='button']:has-text('Stop')"
        },
        "loading_indicator": {
          "primary": ".ds-loading, .generating",
          "alternatives": [
            "[data-loading='true']",
            ".response-streaming",
            "div[class*='loading']"
          ]
        },
        "input_field": {
          "primary": "textarea#chat-input, textarea.chat-input",
          "alternatives": [
            "[placeholder*='Message DeepSeek']",
            "div[contenteditable='true']"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": ".ds-chat-content, .chat-messages",
          "alternatives": [
            ".message-list",
            "[role='log']"
          ]
        },
        "submit_button": {
          "primary": "div[role='button'][aria-label*='Send'], button.send-button",
          "alternatives": [
            "button[type='submit']"
          ]
        }
      },
      "completion": {
        "minWaitMs": 20000,
        "adaptiveMultiplier": 1.5,
        "checks": [
          "stopButton",
          "loadingIndicator",
          "inputEnabled"
        ],
        "thinking": {
          "enabled": true,
          "patterns": [
            "DeepSeek-R1",
            "Thinking...",
            "Reasoning...",
            "생각 중..."
          ]
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": true
      }
    },
    "qwen": {
      "name": "Qwen Chat (Alibaba)",
      "url": "https://qwen.ai",
      "selectors": {
        "stop_button": {
          "primary": "button[class*='stop-btn'], button[class*='Stop']",
          "alternatives": [
            "button:has-text('Stop')",
            "div[role='button'][aria-label*='Stop']"
          ],
          "detection": "button.ant-btn-dangerous"
        },
        "loading_indicator": {
          "primary": ".ant-spin, [class*='loading']",
          "alternatives": [
            "[data-loading='true']",
            ".loading-spinner"
          ]
        },
        "input_field": {
          "primary": "textarea.ant-input",
          "alternatives": [
            "[placeholder*='请输入']",
            "div[contenteditable='true']"
          ],
          "disabled_detection": "textarea:disabled, .ant-input-disabled"
        },
        "action_buttons": {
          "primary": ".qwen-chat-package-comp-new-action-control-icons",
          "alternatives": [
            ".qwen-chat-package-comp-new-action-control-container",
            ".response-message-footer .qwen-chat-package-comp-new-action-control",
            "button.qwen-chat-package-comp-new-action-control-container-copy",
            "button.qwen-chat-package-comp-new-action-control-container-regenerate"
          ]
        },
        "response_area": {
          "primary": ".response-message-content",
          "alternatives": [
            ".qwen-markdown",
            ".chat-content",
            ".message-container"
          ]
        },
        "submit_button": {
          "primary": "button.ant-btn-primary:not(:disabled)",
          "alternatives": [
            ".send-btn",
            "[aria-label='Send']"
          ]
        }
      },
      "completion": {
        "minWaitMs": 3000,
        "adaptiveMultiplier": 1.4,
        "checks": [
          "stopButton",
          "loadingIndicator",
          "inputEnabled"
        ]
      }
    },
    "lmarena": {
      "name": "LMArena (LMSYS)",
      "url": "https://chat.lmsys.org",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label*='Stop'], button:has(svg[class*='lucide-square']), button:has(svg[aria-label*='Stop'])",
          "alternatives": [
            "[data-testid*='stop']",
            "button:has-text('Stop')",
            "button.btn-stop",
            "button:has(svg[data-icon='stop'])"
          ],
          "detection": "button[aria-label*='Stop']:not([disabled])"
        },
        "loading_indicator": {
          "primary": "[data-testid*='loading'], [aria-busy='true']",
          "alternatives": [
            ".animate-spin",
            "[class*='loading']",
            "[class*='generating']"
          ]
        },
        "input_field": {
          "primary": "textarea[placeholder*='Enter your message'], textarea[aria-label*='message']",
          "alternatives": [
            "textarea.chat-input",
            "div[contenteditable='true'][role='textbox']",
            "textarea"
          ],
          "type": "textarea",
          "disabled_detection": "textarea:disabled, [contenteditable='false'], [aria-disabled='true']"
        },
        "response_area": {
          "primary": ".prose",
          "alternatives": [
            "[data-testid*='message']",
            ".markdown-body",
            ".min-w-0"
          ]
        },
        "user_message": {
          "primary": "[data-testid*='user'], .chat-message-user",
          "alternatives": [
            ".user-message",
            "[data-role='user']"
          ]
        },
        "submit_button": {
          "primary": "button[type='submit'][aria-label*='Send'], button:has(svg[class*='send'])",
          "alternatives": [
            "button[aria-label*='Send']",
            "button:has-text('Send')",
            "[data-testid='submit']",
            "button.primary"
          ],
          "disabled_detection": "button:disabled"
        }
      },
      "completion": {
        "minWaitMs": 8000,
        "adaptiveMultiplier": 1.3,
        "checks": [
          "stopButton",
          "inputEnabled",
          "loadingIndicator"
        ],
        "thinking": {
          "enabled": true,
          "patterns": [
            "Waiting for",
            "Generating...",
            "Loading...",
            "Queued"
          ]
        }
      },
      "features": {
        "usesNetworkMonitor": true,
        "disableInputOnGenerate": true,
        "hasThinkingMode": false
      }
    },
    "kimi": {
      "name": "Kimi Chat (Moonshot AI)",
      "url": "https://kimi.com",
      "selectors": {
        "stop_button": {
          "primary": ".send-button-container:not(.disabled) .send-button[class*='stop']",
          "alternatives": [
            "button[aria-label='停止生成']",
            "button[aria-label*='Stop']",
            ".stop-button"
          ],
          "detection": ".send-button-container:not(.disabled)"
        },
        "loading_indicator": {
          "primary": ".send-button-container:not(.disabled)",
          "alternatives": [
            "[data-generating='true']",
            ".typing-indicator",
            ".generating-status",
            "canvas.rive-container",
            ".last-node"
          ]
        },
        "input_field": {
          "primary": ".chat-input-editor[data-lexical-editor='true'][contenteditable='true']",
          "alternatives": [
            ".chat-input-editor[contenteditable='true']",
            "div[contenteditable='true'][role='textbox']",
            ".chat-input textarea"
          ],
          "type": "contenteditable",
          "disabled_detection": ".chat-input-editor[contenteditable='false']"
        },
        "response_area": {
          "primary": ".chat-content-list",
          "alternatives": [
            ".segment-assistant .markdown-container",
            ".segment-assistant .markdown",
            ".chat-content-item-assistant"
          ]
        },
        "submit_button": {
          "primary": ".send-button-container .send-button",
          "alternatives": [
            "button[aria-label='发送']",
            ".send-button"
          ],
          "disabled_detection": ".send-button-container.disabled"
        },
        "action_buttons": {
          "primary": ".segment-assistant-actions .icon-button",
          "alternatives": [
            ".segment-assistant-actions-content .icon-button",
            ".segment-assistant-actions button"
          ]
        },
        "completion": {
          "minWaitMs": 15000,
          "adaptiveMultiplier": 1.3,
          "checks": [
            "stopButton",
            "actionButtons",
            "inputEnabled",
            "loadingIndicator"
          ],
          "thinking": {
            "enabled": true,
            "patterns": [
              "Searching",
              "Thinking...",
              "Reading",
              "검색 중",
              "읽는 중",
              "생각 중"
            ]
          }
        }
      }
    },
    "mistral": {
      "name": "Mistral Chat (Le Chat)",
      "url": "https://chat.mistral.ai",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label*='Stop'], button[aria-label*='stop']",
          "alternatives": [
            "button:has(svg.lucide-square)",
            "[data-testid='stop-button']",
            "button.stop-generating"
          ],
          "detection": "button[aria-label*='Stop']:not([disabled])"
        },
        "loading_indicator": {
          "primary": ".sonner-loading-wrapper[data-visible='true'], .animate-spin",
          "alternatives": [
            "[aria-busy='true']",
            ".animate-pulse",
            "[data-testid='streaming']"
          ]
        },
        "input_field": {
          "primary": "div.ProseMirror[contenteditable='true']",
          "alternatives": [
            "[data-placeholder='Ask Le Chat anything']",
            "div[contenteditable='true'].ProseMirror",
            "textarea"
          ],
          "type": "contenteditable",
          "disabled_detection": "[contenteditable='false'], [aria-disabled='true']"
        },
        "response_area": {
          "primary": "[data-message-author-role='assistant']:last-of-type [data-message-part-type='answer']",
          "alternatives": [
            "[data-message-author-role='assistant']:last-of-type .markdown-container-style",
            "[data-message-author-role='assistant']:last-of-type",
            "[data-testid='text-message-part']"
          ]
        },
        "user_message": {
          "primary": "[data-message-author-role='user']",
          "alternatives": [
            ".group[data-message-author-role='user']"
          ]
        },
        "action_buttons": {
          "primary": "button[aria-label='Like'], button[aria-label='Rewrite']",
          "alternatives": [
            "button[aria-label='Copy to clipboard']",
            "button[aria-label='Dislike']"
          ],
          "note": "These buttons appear after response completion"
        },
        "submit_button": {
          "primary": "button[aria-label='Voice Mode']",
          "alternatives": [
            "button[type='submit']",
            "button[aria-label*='Send']"
          ],
          "note": "Mistral Le Chat uses Voice Mode button as primary, may change during typing"
        }
      },
      "completion": {
        "minWaitMs": 18000,
        "adaptiveMultiplier": 1.2,
        "checks": [
          "stopButton",
          "actionButtons",
          "inputEnabled"
        ],
        "signals": {
          "actionButtons": "Look for Like/Dislike/Rewrite/Copy buttons in last assistant message"
        }
      },
      "features": {
        "usesActionButtonsForCompletion": true,
        "inputIsProseMirror": true,
        "hasThinkingMode": true
      }
    },
    "openrouter": {
      "name": "OpenRouter Chat",
      "url": "https://openrouter.ai/chat",
      "selectors": {
        "stop_button": {
          "primary": "button.stop-generation",
          "alternatives": [
            "button[aria-label='Stop']",
            "[data-testid='stop-btn']"
          ],
          "detection": "button:has-text('Stop')"
        },
        "loading_indicator": {
          "primary": ".generating-indicator",
          "alternatives": [
            "[data-generating='true']",
            ".loading-spinner"
          ]
        },
        "input_field": {
          "primary": "textarea.chat-input",
          "alternatives": [
            "[placeholder*='Message']",
            "div[contenteditable='true']"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": ".chat-container",
          "alternatives": [
            ".messages",
            "[role='log']"
          ]
        },
        "submit_button": {
          "primary": "button.bg-primary.h-9.w-9",
          "alternatives": [
            "button.bg-primary",
            "[data-testid='playground-composer'] button.bg-primary",
            "button[aria-label*='Send']",
            "button[type='submit']",
            "button.bg-primary:has(svg[data-lucide='send'])"
          ]
        }
      },
      "completion": {
        "minWaitMs": 5000,
        "adaptiveMultiplier": 1.2,
        "checks": [
          "stopButton",
          "inputEnabled"
        ]
      }
    },
    "github_copilot": {
      "name": "GitHub Copilot Chat",
      "url": "https://github.com/copilot",
      "selectors": {
        "stop_button": {
          "primary": "button[aria-label='Stop generating']",
          "alternatives": [
            ".octicon-stop",
            "button:has-text('Stop')"
          ],
          "detection": "button.btn-sm.btn-danger"
        },
        "loading_indicator": {
          "primary": "[data-testid='copilot-loading']",
          "alternatives": [
            ".loading-indicator",
            "[aria-busy='true']"
          ]
        },
        "input_field": {
          "primary": "textarea#copilot-panel-input",
          "alternatives": [
            "[placeholder*='Ask Copilot']",
            ".copilot-input"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": ".copilot-chat-container",
          "alternatives": [
            "[data-testid='chat-messages']",
            ".discussion-timeline"
          ]
        },
        "submit_button": {
          "primary": "button.copilot-send-btn",
          "alternatives": [
            "button[type='submit']",
            "[aria-label='Send message']"
          ]
        }
      }
    },
    "genspark": {
      "name": "Genspark AI",
      "url": "https://genspark.ai",
      "selectors": {
        "stop_button": {
          "primary": ".ds-icon-button svg path[d^='M17.2027']",
          "alternatives": [
            "div[role='button'] svg rect",
            ".ds-icon-button svg path[d^='M10.9604']",
            "[data-action='stop']"
          ],
          "detection": "button:has-text('Stop generating')"
        },
        "loading_indicator": {
          "primary": ".generating-status",
          "alternatives": [
            "[data-loading='true']",
            ".spinner"
          ]
        },
        "input_field": {
          "primary": "textarea.search-input",
          "alternatives": [
            "[placeholder*='Ask']",
            "div[contenteditable='true']"
          ],
          "disabled_detection": "textarea:disabled"
        },
        "response_area": {
          "primary": ".spark-container",
          "alternatives": [
            ".results",
            "[role='main']"
          ]
        },
        "submit_button": {
          "primary": "button.search-btn",
          "alternatives": [
            "button[type='submit']",
            "[aria-label='Search']"
          ]
        }
      }
    }
  },
  "common_patterns": {
    "stop_button_detection": [
      "button[aria-label*='Stop']",
      "button:has-text('Stop')",
      "button.stop-*",
      "[data-testid*='stop']",
      "button:has(svg[data-icon='stop'])"
    ],
    "loading_indicators": [
      "[aria-busy='true']",
      "[data-loading='true']",
      ".loading, .generating, .streaming",
      ".animate-pulse, .animate-spin",
      "[aria-live='polite']"
    ],
    "input_disabled_states": [
      "textarea:disabled",
      "[contenteditable='false']",
      "[aria-disabled='true']",
      ".disabled",
      "[disabled]"
    ],
    "dynamic_content_areas": [
      "[role='log']",
      "[role='main']",
      "[aria-live='polite']",
      ".message-list, .conversation",
      "[data-testid*='message'], [data-testid*='conversation']"
    ]
  },
  "detection_strategies": {
    "stop_button": {
      "method": "multi_selector",
      "priority": [
        "aria-label",
        "data-testid",
        "text content",
        "class name",
        "svg icon"
      ],
      "fallback": "Monitor DOM for button appearance during generation"
    },
    "loading_state": {
      "method": "combined",
      "checks": [
        "aria-busy attribute",
        "loading class presence",
        "streaming indicator",
        "input disabled state",
        "stop button visibility"
      ]
    },
    "input_availability": {
      "method": "inverse_loading",
      "note": "Input is usually disabled when loading=true"
    }
  },
  "implementation_notes": {
    "selector_stability": "Use multiple fallback selectors as sites frequently update",
    "mutation_observer": "Recommended for detecting dynamic stop button appearance",
    "timing": "Some sites delay showing stop button by 100-500ms after stream starts",
    "framework_specific": {
      "react": "Look for data-testid attributes",
      "vue": "Check for v-* directives in HTML",
      "svelte": "Class names often include svelte-* hash",
      "angular": "Look for ng-* attributes and mat-* components"
    },
    "accessibility": "Prefer aria-label and role attributes for stability",
    "internationalization": "Text-based selectors may fail in non-English locales"
  }
}